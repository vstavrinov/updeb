.\"Text automatically generated by txt2man
.TH updeb 1 "09 December 2011" "" ""
.SH NAME
updeb - UPgrade DEBian system non−interactively
.SS
.SS
.SH SYNOPSIS
updeb [ −ursmdvVh ] [ −c CONFIG ] [ −t MAILTO ]
.SS
.SH DESCRIPTION
This script will upgrade running debian system and mail the result: what was upgraded, from what version to what and for what period of time. The actual upgrade will be done only if all index files will be successfully updated, all required packages will be successfully downloaded, and finally only if the simulating of upgrade will be finished without errors. All old configuration files are preserved and can be compared to new *.dpkg−dist files. If any error occur, this will be mailed to You. It is intended to be used as cron job.
.SS
.SH OPTIONS
.SS
.TP
.B
−u
Upgrade debian system
.SS
.TP
.B
−r
Debian upgrade report to stdout only if system changed since last upgrade.
.SS
.TP
.B
−m
Mail upgrade report.
.SS
.TP
.B
−s
Update the list of packages versions (called "snapshot"). This is snapshot what current state of the system is compared to. Its time stamp is the start of the report period. Note: if this option supplied alone with −u (i.e. upgrade) the actual update of the snapshot will be done only if the option −m (mail to) is present too and the system changed, i.e. at least one package was upgraded, installed or removed. This is not true for stand alone option: i.e. updeb −s will update snapshot in any way.
.SS
.TP
.B
−c CONFIG
Set the configuration file. Default /etc/updeb/updebrc .
.SS
.TP
.B
−t MAILTO
Recipient of upgrade report. Default root.
.SS
.TP
.B
−v
Verbose mode. This imply the verbosity of log file only, but not report.
.SS
.TP
.B
−d
Debug mode. Set the shell options: set −x −v. Don’t use it in cron job.
.SS
.TP
.B
−h
Help.
.SS
.TP
.B
−V
Version and copyright.
.SS
.SS
.SH EXAMPLE
Typically this script is running by cron daemon every night. You can add to crontab something like this:
.SS
30 1 * * * root updeb −ums
This will upgrade Your system every night at 01:30 and if system changed, update snapshot and send report to You.
.SS
.SH FILES
.TP
.B
/etc/updeb/updebrc
Main configuration file setting shell variables for such thing as address, log file, verbosity, cache cleaning and upgrade mode. In turn it sources the file /etc/updeb/updebrc.local, where You can redefine all of them, leaving main config untouched.
.SS
.TP
.B
/etc/updeb/updebrc.local
Local configuration file, sourced by main config. Use it for custom setting, overriding ones from main config.
.SS
.SH SEE ALSO
\fBupdebrc\fP(5), \fBapt−get\fP(8), \fBdpkg\fP(8)
.SS
.SS
.SH AUTHORS
Vladimir Stavrinov <vstavrinov@gmail.com>
